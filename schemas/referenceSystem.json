{
    "$id": "/schemas/referenceSystem",
    "type" : "object",
    "oneOf" :
    [
        {
            "description" : "Temporal reference system",
            "properties" :
            {
                "type" : { "const" : "TemporalRS" },
                "calendar" : { "type" : "string" },
                "timeScale" : { "type" : "string" }
            },
            "required" : [ "type", "calendar" ]
        },
        {
            "description" : "An identifier-based reference system",
            "properties" :
            {
                "type" : { "const" : "IdentifierRS" },
                "id" : { "type" : "string" },
                "label" : { "$ref" : "/schemas/i18n" },
                "description" : { "$ref" : "/schemas/i18n" },
                "targetConcept" : { "$ref" : "#/$defs/targetConcept" },
                "identifiers" :
                {
                    "type" : "object",
                    "patternProperties" :
                    {
                        ".+" : { "$ref" : "#/$defs/targetConcept" }
                    }
                }
            },
           "required" : [ "type", "targetConcept" ]
        },
        {
            "description" : "Another type of reference system (e.g. geographic, vertical, projected)",
            "properties" :
            {
                "type" :
                {
                    "type" : "string",
                    "not" : { "enum" : [ "TemporalRS", "IdentifierRS" ] }
                },
                "id" : { "type" : "string" }
            },
            "required" : [ "type" ]
        }
    ],
    "$defs" :
    {
        "targetConcept" :
        {
            "type" : "object",
            "properties" :
            {
                "id" : { "type" : "string" },
                "label" : { "$ref" : "/schemas/i18n" },
                "description" : { "$ref" : "/schemas/i18n" }
            },
            "required" : [ "label" ]
        }
    }
}